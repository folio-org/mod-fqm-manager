{
  id: '58148257-bfb0-4687-8c42-d2833d772f3e',
  name: 'purchase_order_line',
  private: true,
  sources: [
    {
      alias: 'pol',
      type: 'db',
      target: 'src_purchase_order_line',
      order: 10
    },
    {
      alias: 'acquisition_method',
      type: 'db',
      target: 'src_orders_acquisition_method',
      order: 20,
      join: {
        type: 'left join',
        joinTo: 'pol',
        condition: ":this.id::text = :that.jsonb->>'acquisitionMethod'",
      }
    }
  ],
  requiredPermissions: [
    'orders.po-lines.item.get',
    'orders-storage.acquisition-methods.collection.get',
  ],
  columns: [
    {
      name: 'id',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: true,
      queryable: true,
      essential: true,
      visibleByDefault: true,
      valueGetter: ':sourceAlias.id',
    },
    {
      name: 'purchase_order_id',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: true,
      valueGetter: ':sourceAlias.purchaseorderid',
      joinsTo: [
        {
          targetId: '48de4796-11a2-44e9-abb7-01e84af87234',
          targetField: 'id',
          type: 'equality-simple',
          direction: 'left',
        },
      ],
    },
    {
      name: 'created_at',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb -> 'metadata' ->> 'createdDate'",
      filterValueGetter: "\"left\"(lower(${tenant_id}_mod_orders_storage.f_unaccent((:sourceAlias.jsonb -> 'metadata'::text) ->> 'createdDate'::text)), 600)",
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'created_by',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      hidden: true,
      valueGetter: ':sourceAlias.created_by',
      joinsTo: [
        {
          targetId: 'bb058933-cd06-4539-bd3a-6f248ff98ee2', // simple_user_details
          targetField: 'id',
          type: 'equality-cast-uuid', // this column is actually `text`
          direction: 'left',
        },
        {
          targetId: 'f2615ea6-450b-425d-804d-6a495afd9308', // simple_FOLIO_user
          targetField: 'id',
          type: 'equality-cast-uuid', // this column is actually `text`
          direction: 'left',
        },
      ],
    },
    {
      name: 'edition',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'edition'",
    },
    {
      name: 'checkin_items',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'checkinItems'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'agreement_id',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'agreementId'",
    },
    {
      name: 'acquisition_method',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      hidden: true,
      valueGetter: ":sourceAlias.jsonb->>'acquisitionMethod'",
      source: {
        entityTypeId: '37288235-e59c-4db7-a3cc-eb31effd7828',
        columnName: 'id',
      },
    },
    {
      name: 'acquisition_method_name',
      sourceAlias: 'acquisition_method',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      source: {
        entityTypeId: '37288235-e59c-4db7-a3cc-eb31effd7828',
        columnName: 'name',
      },
      valueGetter: ":sourceAlias.jsonb->>'value'",
    },
    {
      name: 'automatic_export',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'automaticExport'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'cancellation_restriction',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'cancellationRestriction'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'cancellation_restriction_note',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'cancellationRestrictionNote'",
    },
    {
      name: 'claims',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'objectType',
          properties: [
            {
              name: 'claimed',
              property: 'claimed',
              dataType: {
                dataType: 'booleanType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'claimed') FROM jsonb_array_elements(:sourceAlias.jsonb->'claims') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'claimed')) FROM jsonb_array_elements(:sourceAlias.jsonb->'claims') AS elems)",
              valueFunction: 'lower(:value)',
              values: [
                {
                  value: 'true',
                  label: 'True',
                },
                {
                  value: 'false',
                  label: 'False',
                },
              ],
            },
            {
              name: 'sent',
              property: 'sent',
              dataType: {
                dataType: 'dateTimeType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'sent') FROM jsonb_array_elements(:sourceAlias.jsonb->'claims') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'sent')) FROM jsonb_array_elements(:sourceAlias.jsonb->'claims') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'grace',
              property: 'grace',
              dataType: {
                dataType: 'integerType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg((elems.value->>'grace')::integer) FROM jsonb_array_elements(:sourceAlias.jsonb->'claims') AS elems)",
              valueFunction: '(:value)::integer',
            },
          ],
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'claims'",
    },
    {
      name: 'claiming_active',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'claimingActive'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'claiming_interval',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'integerType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->>'claimingInterval')::integer",
      valueFunction: '(:value)::integer',
    },
    {
      name: 'collection',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'collection'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'contributors',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'objectType',
          properties: [
            {
              name: 'contributor',
              property: 'contributor',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'contributor') FROM jsonb_array_elements(:sourceAlias.jsonb->'contributors') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'contributor')) FROM jsonb_array_elements(:sourceAlias.jsonb->'contributors') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'contributor_name_type_id',
              property: 'contributorNameTypeId',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'contributorNameTypeId') FROM jsonb_array_elements(:sourceAlias.jsonb->'contributors') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'contributorNameTypeId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'contributors') AS elems)",
              valueFunction: 'lower(:value)',
            },
          ],
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'contributors'",
    },
    {
      name: 'cost_list_unit_price',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'listUnitPrice')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'cost_list_unit_price_electronic',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'listUnitPriceElectronic')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'cost_currency',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->'cost'->>'currency'",
      filterValueGetter: "lower(:sourceAlias.jsonb -> 'cost' ->> 'currency')",
      valueFunction: 'lower(:value)',
      source: {
        entityTypeId: '58148257-bfb0-4687-8c42-d2833d772f3e',
        name: 'currency',
        type: 'fqm',
        columnName: 'cost_currency',
      },
      joinsTo: [
        {
          targetId: '770a383e-c6cb-412b-abc3-6fa3c8a8795c',
          targetField: 'currency',
          type: 'equality-simple',
          direction: 'left',
        },
      ],
    },
    {
      name: 'cost_additional_cost',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'additionalCost')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'cost_discount',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'discount')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'cost_discount_type',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'cost'->>'discountType'",
      values: [
        {
          value: 'amount',
          label: 'Amount',
        },
        {
          value: 'percentage',
          label: 'Percentage',
        },
      ],
    },
    {
      name: 'cost_exchange_rate',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'exchangeRate')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'cost_quantity_physical',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'integerType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'quantityPhysical')::integer",
      valueFunction: '(:value)::integer',
    },
    {
      name: 'cost_quantity_electronic',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'integerType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'quantityElectronic')::integer",
      valueFunction: '(:value)::integer',
    },
    {
      name: 'cost_po_line_estimated_price',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'poLineEstimatedPrice')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'cost_fyro_adjustment_amount',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'numberType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'cost'->>'fyroAdjustmentAmount')::float",
      valueFunction: '(:value)::float',
    },
    {
      name: 'description',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->>'description'",
    },
    {
      name: 'details_receiving_note',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->'details'->>'receivingNote'",
    },
    {
      name: 'details_is_acknowledged',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'details'->>'isAcknowledged'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'details_is_bindary_active',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'details'->>'isBindaryActive'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'details_subscription_from',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'details'->>'subscriptionFrom'",
    },
    {
      name: 'details_subscription_interval',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'integerType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'details'->>'subscriptionInterval')::integer",
      valueFunction: '(:value)::integer',
    },
    {
      name: 'details_subscription_to',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'details'->>'subscriptionTo'",
    },
    {
      name: 'details_product_ids',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'objectType',
          properties: [
            {
              name: 'product_id',
              property: 'productId',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'productId') FROM jsonb_array_elements(:sourceAlias.jsonb->'details'->'productIds') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'productId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'details'->'productIds') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'product_id_type',
              property: 'productIdType',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'productIdType') FROM jsonb_array_elements(:sourceAlias.jsonb->'details'->'productIds') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'productIdType')) FROM jsonb_array_elements(:sourceAlias.jsonb->'details'->'productIds') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'qualifier',
              property: 'qualifier',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'qualifier') FROM jsonb_array_elements(:sourceAlias.jsonb->'details'->'productIds') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'qualifier')) FROM jsonb_array_elements(:sourceAlias.jsonb->'details'->'productIds') AS elems)",
              valueFunction: 'lower(:value)',
            },
          ],
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'details'->>'productIds'",
    },
    {
      name: 'donor',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->>'donor'",
      filterValueGetter: "lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> 'donor'::text))",
      valueFunction: 'lower(${tenant_id}_mod_orders_storage.f_unaccent(:value))',
    },
    {
      name: 'donor_organization_ids',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'rangedUUIDType',
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: "(\
        SELECT\
          array_agg(elems.value::text)\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'donorOrganizationIds') AS elems\
      )",
      filterValueGetter: "(\
        SELECT\
          array_agg(lower(elems.value::text))\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'donorOrganizationIds') AS elems\
      )",
      source: {
        entityTypeId: 'b5ffa2e9-8080-471a-8003-a8c5a1274503',
        name: 'donor_organization', // shows donor org finder in query builder
        columnName: 'id',
      },
    },
    {
      name: 'eresource_activated',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'activated'",
      filterValueGetter: "\"left\"(lower(${tenant_id}_mod_orders_storage.f_unaccent((:sourceAlias.jsonb -> 'eresource'::text) ->> 'activated'::text)), 600)",
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'eresource_activation_due',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'integerType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'eresource'->>'activationDue')::integer",
      valueFunction: '(:value)::integer',
    },
    {
      name: 'eresource_create_inventory',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'createInventory'",
      values: [
        {
          value: 'Instance, Holding, Item',
          label: 'Instance holding item',
        },
        {
          value: 'Instance, Holding',
          label: 'Instance holding',
        },
        {
          value: 'Instance',
          label: 'Instance',
        },
        {
          value: 'None',
          label: 'None',
        },
      ],
    },
    {
      name: 'eresource_trial',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'trial'",
      filterValueGetter: "\"left\"(lower(${tenant_id}_mod_orders_storage.f_unaccent((:sourceAlias.jsonb -> 'eresource'::text) ->> 'trial'::text)), 600)",
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'eresource_expected_activation',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'expectedActivation'",
      filterValueGetter: "\"left\"(lower(${tenant_id}_mod_orders_storage.f_unaccent((:sourceAlias.jsonb -> 'eresource'::text) ->> 'expectedActivation'::text)), 600)",
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'eresource_user_limit',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'integerType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: "(:sourceAlias.jsonb->'eresource'->>'userLimit')::integer",
      valueFunction: '(:value)::integer',
    },
    {
      name: 'eresource_access_provider',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'accessProvider'",
    },
    {
      name: 'eresource_material_type',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'materialType'",
    },
    {
      name: 'eresource_resource_url',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->'eresource'->>'resourceUrl'",
    },
    {
      name: 'eresource_license_code',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'eresource'->'license'->>'code'",
    },
    {
      name: 'eresource_license_description',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'eresource'->'license'->>'description'",
    },
    {
      name: 'eresource_license_reference',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'eresource'->'license'->>'reference'",
    },
    {
      name: 'fund_distribution',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'objectType',
          properties: [
            {
              name: 'code',
              property: 'code',
              dataType: {
                dataType: 'stringType',
              },
              source: {
                entityTypeId: '4c63c7f5-1a28-4394-b401-98c02c31492d',
                columnName: 'code',
              },
              queryable: true,
              valueGetter: "( SELECT array_agg(elems.value->>'code') FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'code')) FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'encumbrance',
              property: 'encumbrance',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: true,
              valueGetter: "( SELECT array_agg(elems.value->>'encumbrance') FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'encumbrance')) FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'fund_id',
              property: 'fundId',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: true,
              hidden: true,
              valueGetter: "( SELECT array_agg(elems.value->>'fundId') FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'fundId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'fund_name',
              property: 'fund_name',
              dataType: {
                dataType: 'stringType',
              },
              queryable: true,
              valueGetter: "( \
                              SELECT \
                                array_agg(fund.jsonb ->> 'name') \
                                FILTER (WHERE (fund.jsonb ->> 'name') IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'fundDistribution')) record(value) \
                                LEFT JOIN ${tenant_id}_mod_fqm_manager.src_finance_fund AS fund \
                                ON (record.value ->> 'fundId')::uuid = fund.id \
                            )",
              filterValueGetter: "( \
                                    SELECT \
                                      array_agg(lower(fund.jsonb ->> 'name')) \
                                      FILTER (WHERE (fund.jsonb ->> 'name') IS NOT NULL) \
                                      AS array_agg \
                                    FROM \
                                      jsonb_array_elements((:sourceAlias.jsonb -> 'fundDistribution')) record(value) \
                                      LEFT JOIN ${tenant_id}_mod_fqm_manager.src_finance_fund AS fund \
                                      ON (record.value ->> 'fundId')::uuid = fund.id \
                                  )",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'expense_class_id',
              property: 'expenseClassId',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: true,
              hidden: true,
              valueGetter: "( SELECT array_agg(elems.value->>'expenseClassId') FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'expenseClassId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'expense_class_name',
              property: 'expense_class_name',
              dataType: {
                dataType: 'stringType',
              },
              queryable: true,
              valueGetter: "( \
                              SELECT \
                                array_agg(expense_class.jsonb ->> 'name') \
                                FILTER (WHERE (expense_class.jsonb ->> 'name') IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'fundDistribution')) record(value) \
                                LEFT JOIN ${tenant_id}_mod_fqm_manager.src_finance_expense_class AS expense_class \
                                ON (record.value ->> 'expenseClassId')::uuid = expense_class.id \
                            )",
              filterValueGetter: "( \
                                    SELECT \
                                      array_agg(lower(expense_class.jsonb ->> 'name')) \
                                      FILTER (WHERE (expense_class.jsonb ->> 'name') IS NOT NULL) \
                                      AS array_agg \
                                    FROM \
                                      jsonb_array_elements((:sourceAlias.jsonb -> 'fundDistribution')) record(value) \
                                      LEFT JOIN ${tenant_id}_mod_fqm_manager.src_finance_expense_class AS expense_class \
                                      ON (record.value ->> 'expenseClassId')::uuid = expense_class.id \
                                  )",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'distribution_type',
              property: 'distributionType',
              dataType: {
                dataType: 'stringType',
              },
              queryable: true,
              valueGetter: "( SELECT array_agg(elems.value->>'distributionType') FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'distributionType')) FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              valueFunction: 'lower(:value)',
              values: [
                {
                  value: 'amount',
                  label: 'Amount',
                },
                {
                  value: 'percentage',
                  label: 'Percentage',
                },
              ],
            },
            {
              name: 'value',
              property: 'value',
              dataType: {
                dataType: 'numberType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg((elems.value->>'value')::float) FROM jsonb_array_elements(:sourceAlias.jsonb->'fundDistribution') AS elems)",
              valueFunction: '(:value)::float',
            },
          ],
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      essential: true,
      valueGetter: "( \
                  SELECT \
                    jsonb_agg(\
                      record.value || jsonb_build_object('fund_name', fund.jsonb ->> 'name', 'expense_class_name', expense_class.jsonb ->> 'name') \
                      ORDER BY record.value ->> 'fundId', record.value ->> 'expenseClassId' \
                    ) \
                  FROM \
                    jsonb_array_elements(:sourceAlias.jsonb -> 'fundDistribution') AS record(value) \
                    LEFT JOIN ${tenant_id}_mod_fqm_manager.src_finance_fund AS fund \
                      ON (record.value ->> 'fundId')::uuid = fund.id \
                    LEFT JOIN ${tenant_id}_mod_fqm_manager.src_finance_expense_class AS expense_class \
                      ON (record.value ->> 'expenseClassId')::uuid = expense_class.id\
                )::text",
    },
    {
      name: 'instance_id',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'instanceId'",
      joinsTo: [
        {
          targetId: '8fc4a9d2-7ccf-4233-afb8-796911839862', // simple_instance
          targetField: 'id',
          type: 'equality-cast-uuid',
          direction: 'left',
        },
      ],
    },
    {
      name: 'is_package',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'isPackage'",
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
    },
    {
      name: 'locations',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'objectType',
          properties: [
            {
              name: 'location_id',
              property: 'locationId',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: true,
              hidden: true,
              valueGetter: "( SELECT array_agg(elems.value->>'locationId') FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'locationId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'location_name',
              property: 'name',
              dataType: {
                dataType: 'stringType',
              },
              queryable: true,
              valueGetter: "( \
                              SELECT \
                                array_agg(loc.jsonb ->> 'name') \
                                FILTER (WHERE (loc.jsonb ->> 'name') IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'locations')) record(value) \
                                LEFT JOIN ${tenant_id}_mod_fqm_manager.src_inventory_location AS loc \
                                ON (record.value ->> 'locationId')::uuid = loc.id \
                            )",
              filterValueGetter: "( \
                              SELECT \
                                array_agg(lower(loc.jsonb ->> 'name')) \
                                FILTER (WHERE (loc.jsonb ->> 'name') IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'locations')) record(value) \
                                LEFT JOIN ${tenant_id}_mod_fqm_manager.src_inventory_location AS loc \
                                ON (record.value ->> 'locationId')::uuid = loc.id \
                            )",
              valueFunction: 'lower(:value)',
              source: {
                columnName: 'name',
                entityTypeId: '74ddf1a6-19e0-4d63-baf0-cd2da9a46ca4',
              },
            },
            {
              name: 'location_code',
              property: 'code',
              dataType: {
                dataType: 'stringType',
              },
              queryable: true,
              valueGetter: "( \
                              SELECT \
                                array_agg(loc.jsonb ->> 'code') \
                                FILTER (WHERE (loc.jsonb ->> 'code') IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'locations')) record(value) \
                                LEFT JOIN ${tenant_id}_mod_fqm_manager.src_inventory_location AS loc \
                                ON (record.value ->> 'locationId')::uuid = loc.id \
                            )",
              filterValueGetter: "( \
                              SELECT \
                                array_agg(lower(loc.jsonb ->> 'code')) \
                                FILTER (WHERE (loc.jsonb ->> 'code') IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'locations')) record(value) \
                                LEFT JOIN ${tenant_id}_mod_fqm_manager.src_inventory_location AS loc \
                                ON (record.value ->> 'locationId')::uuid = loc.id \
                            )",
              valueFunction: 'lower(:value)',
              source: {
                columnName: 'code',
                entityTypeId: '74ddf1a6-19e0-4d63-baf0-cd2da9a46ca4',
              },
            },
            {
              name: 'holding_id',
              property: 'holdingId',
              dataType: {
                dataType: 'rangedUUIDType',
              },
              queryable: false,
              hidden: true,
              valueGetter: "( SELECT array_agg(elems.value->>'holdingId') FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'holdingId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'quantity',
              property: 'quantity',
              dataType: {
                dataType: 'integerType',
              },
              queryable: false,
              hidden: true,
              valueGetter: "( SELECT array_agg((elems.value->>'quantity')::integer) FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              valueFunction: '(:value)::integer',
            },
            {
              name: 'quantity_electronic',
              property: 'quantityElectronic',
              dataType: {
                dataType: 'integerType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg((elems.value->>'quantityElectronic')::integer) FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              valueFunction: '(:value)::integer',
            },
            {
              name: 'quantity_physical',
              property: 'quantityPhysical',
              dataType: {
                dataType: 'integerType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg((elems.value->>'quantityPhysical')::integer) FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              valueFunction: '(:value)::integer',
            },
            {
              name: 'tenant_id',
              property: 'tenantId',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              hidden: true,
              valueGetter: "( SELECT array_agg(elems.value->>'tenantId') FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'tenantId')) FROM jsonb_array_elements(:sourceAlias.jsonb->'locations') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'tenant_name',
              property: 'tenant_name',
              dataType: {
                dataType: 'stringType',
              },
              queryable: true,
              valueGetter: "( \
                              SELECT \
                                array_agg(tenant.name) \
                                FILTER (WHERE (tenant.name) IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'locations')) record(value) \
                                LEFT JOIN ${safe_central_tenant_id}_mod_fqm_manager.src_consortia_tenant AS tenant \
                                ON (record.value ->> 'tenantId') = tenant.id \
                            )",
              // Note: The filterValueGetter uses the tenant ID, not the name! This is because the special tenant name value source only deals with id/name pairs
              // and idColumnName doesn't work in nested properties, so we can't do the normal config to redirect this to the ID column
              filterValueGetter: "( \
                              SELECT \
                                array_agg(lower(tenant.id)) \
                                FILTER (WHERE (tenant.id) IS NOT NULL) \
                                AS array_agg \
                              FROM \
                                jsonb_array_elements((:sourceAlias.jsonb -> 'locations')) record(value) \
                                LEFT JOIN ${safe_central_tenant_id}_mod_fqm_manager.src_consortia_tenant AS tenant \
                                ON (record.value ->> 'tenantId') = tenant.id \
                            )",
              valueFunction: 'lower(:value)',
              source: {
                columnName: 'name',
                entityTypeId: 'b52c6bef-15d9-468d-b16a-88add8ba8cdb', // simple_consortia_tenant
              },
              ecsOnly: true,
            }
          ],
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      essential: true,
      valueGetter: "(SELECT \
                       jsonb_agg(\
                         record.value || \
                         jsonb_build_object('name', loc.jsonb ->> 'name', 'code', loc.jsonb ->> 'code', 'tenant_name', tenant.name) \
                         ORDER BY record.value ->> 'locationId' \
                       ) \
                     FROM \
                       jsonb_array_elements(:sourceAlias.jsonb -> 'locations') AS record(value) \
                       LEFT JOIN ${tenant_id}_mod_fqm_manager.src_inventory_location AS loc \
                         ON (record.value ->> 'locationId')::uuid = loc.id \
                       LEFT JOIN ${safe_central_tenant_id}_mod_fqm_manager.src_consortia_tenant AS tenant \
                         ON (record.value ->> 'tenantId') = tenant.id \
                    )::text",
    },
    {
      // joins are not supported from nested properties yet
      name: '_locations_for_join_only',
      hidden: true,
      queryable: false,
      isIdColumn: false,
      visibleByDefault: false,
      dataType: { dataType: 'arrayType' },
      sourceAlias: 'pol',
      valueGetter: "jsonb_array_elements(:sourceAlias.jsonb -> 'locations')",
      joinsTo: [
        {
          targetId: '30a5cfad-1868-4f46-86b9-a6ef67e2d9bf',
          targetField: 'id',
          direction: 'left',
          type: 'custom',
          sql: "EXISTS (SELECT 1 FROM :this AS hLoc WHERE (hLoc ->> 'holdingId')::uuid = :that)",
        },
      ],
    },
    {
      name: 'search_location_ids',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'rangedUUIDType',
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: "(\
        SELECT\
          array_agg(elems.value::text)\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'searchLocationIds') AS elems\
      )",
      filterValueGetter: "(\
        SELECT\
          array_agg(lower(elems.value::text))\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'searchLocationIds') AS elems\
      )",
    },
    {
      name: 'last_edi_export_date',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'lastEDIExportDate'",
    },
    {
      name: 'order_format',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      values: [
        {
          value: 'Electronic Resource',
          label: 'Electronic resource',
        },
        {
          value: 'P/E Mix',
          label: 'P/E mix',
        },
        {
          value: 'Physical Resource',
          label: 'Physical resource',
        },
        {
          value: 'Other',
          label: 'Other',
        },
      ],
      valueGetter: ":sourceAlias.jsonb->>'orderFormat'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'orderFormat\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'package_po_line_id',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'packagePoLineId'",
    },
    {
      name: 'payment_status',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      essential: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'paymentStatus'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'paymentStatus\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
      values: [
        {
          value: 'Awaiting Payment',
          label: 'Awaiting payment',
        },
        {
          value: 'Cancelled',
          label: 'Cancelled',
        },
        {
          value: 'Fully Paid',
          label: 'Fully paid',
        },
        {
          value: 'Partially Paid',
          label: 'Partially paid',
        },
        {
          value: 'Payment Not Required',
          label: 'Payment not required',
        },
        {
          value: 'Pending',
          label: 'Pending',
        },
        {
          value: 'Ongoing',
          label: 'Ongoing',
        },
      ],
    },
    {
      name: 'physical_create_inventory',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'physical'->>'createInventory'",
      values: [
        {
          value: 'Instance, Holding, Item',
          label: 'Instance, holding, item',
        },
        {
          value: 'Instance, Holding',
          label: 'Instance, holding',
        },
        {
          value: 'Instance',
          label: 'Instance',
        },
        {
          value: 'None',
          label: 'None',
        },
      ],
    },
    {
      name: 'physical_material_type',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'physical'->>'materialType'",
    },
    {
      name: 'physical_material_supplier',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'physical'->>'materialSupplier'",
    },
    {
      name: 'physical_expected_receipt_date',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      essential: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'physical'->>'expectedReceiptDate'",
      filterValueGetter: "\"left\"(lower(${tenant_id}_mod_orders_storage.f_unaccent((:sourceAlias.jsonb -> 'physical'::text) ->> 'expectedReceiptDate'::text)), 600)",
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'physical_receipt_due',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'physical'->>'receiptDue'",
    },
    {
      name: 'physical_volumes',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'stringType',
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: "(\
        SELECT\
          array_agg(elems.value::text)\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'physical'->'volumes') AS elems\
      )",
      filterValueGetter: "(\
        SELECT\
          array_agg(lower(elems.value::text))\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'physical'->'volumes') AS elems\
      )",
    },
    {
      name: 'po_line_description',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'poLineDescription'",
    },
    {
      name: 'po_line_number',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: true,
      essential: true,
      valueGetter: ":sourceAlias.jsonb->>'poLineNumber'",
      filterValueGetter: "lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> 'poLineNumber'::text))",
      valueFunction: 'lower(${tenant_id}_mod_orders_storage.f_unaccent(:value))',
    },
    {
      name: 'publication_date',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      essential: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'publicationDate'",
    },
    {
      name: 'publisher',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'publisher'",
      filterValueGetter: "lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> 'publisher'::text))",
      valueFunction: 'lower(${tenant_id}_mod_orders_storage.f_unaccent(:value))',
    },
    {
      name: 'receipt_date',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'receiptDate'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'receiptDate\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'receipt_status',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'receiptStatus'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'receiptStatus\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
      values: [
        {
          value: 'Awaiting Receipt',
          label: 'Awaiting receipt',
        },
        {
          value: 'Cancelled',
          label: 'Cancelled',
        },
        {
          value: 'Fully Received',
          label: 'Fully received',
        },
        {
          value: 'Partially Received',
          label: 'Partially received',
        },
        {
          value: 'Pending',
          label: 'Pending',
        },
        {
          value: 'Receipt Not Required',
          label: 'Receipt not required',
        },
        {
          value: 'Ongoing',
          label: 'Ongoing',
        },
      ],
    },
    {
      name: 'renewal_note',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'renewalNote'",
    },
    {
      name: 'requester',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'requester'",
    },
    {
      name: 'rush',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'booleanType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      essential: true,
      values: [
        {
          value: 'true',
          label: 'True',
        },
        {
          value: 'false',
          label: 'False',
        },
      ],
      valueGetter: ":sourceAlias.jsonb->>'rush'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'rush\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'selector',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->>'selector'",
      filterValueGetter: "lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> 'selector'::text))",
      valueFunction: 'lower(${tenant_id}_mod_orders_storage.f_unaccent(:value))',
    },
    {
      name: 'source',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: false,
      values: [
        {
          value: 'User',
          label: 'User',
        },
        {
          value: 'API',
          label: 'API',
        },
        {
          value: 'EDI',
          label: 'EDI',
        },
        {
          value: 'MARC',
          label: 'MARC',
        },
        {
          value: 'EBSCONET',
          label: 'EBSCONET',
        },
      ],
      valueGetter: ":sourceAlias.jsonb->>'source'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'source\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'tags',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'stringType',
        },
      },
      isIdColumn: false,
      essential: true,
      queryable: false,
      visibleByDefault: false,
      valueGetter: "(\
        SELECT\
          array_agg(elems.value::text)\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'tags'->'tagList') AS elems\
      )",
      filterValueGetter: "(\
        SELECT\
          array_agg(lower(elems.value::text))\
        FROM\
          jsonb_array_elements_text(:sourceAlias.jsonb->'tags'->'tagList') AS elems\
      )",
    },
    {
      name: 'title_or_package',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: true,
      valueGetter: ":sourceAlias.jsonb->>'titleOrPackage'",
      filterValueGetter: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:sourceAlias.jsonb ->> \'titleOrPackage\'::text)), 600)',
      valueFunction: '"left"(lower(${tenant_id}_mod_orders_storage.f_unaccent(:value)), 600)',
    },
    {
      name: 'vendor_detail_instructions',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'vendorDetail'->>'instructions'",
    },
    {
      name: 'vendor_detail_note_from_vendor',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'vendorDetail'->>'noteFromVendor'",
    },
    {
      name: 'vendor_detail_vendor_account',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      isIdColumn: false,
      queryable: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'vendorDetail'->>'vendorAccount'",
    },
    {
      name: 'updated_at',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'dateTimeType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      visibleByDefault: true,
      valueGetter: ":sourceAlias.jsonb->'metadata'->>'updatedDate'",
    },
    {
      name: 'updated_by',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'rangedUUIDType',
      },
      isIdColumn: false,
      essential: true,
      queryable: true,
      hidden: true,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'metadata'->>'updatedByUserId'",
      joinsTo: [
        {
          targetId: 'bb058933-cd06-4539-bd3a-6f248ff98ee2', // simple_user_details
          targetField: 'id',
          type: 'equality-cast-uuid',
          direction: 'left',
        },
        {
          targetId: 'f2615ea6-450b-425d-804d-6a495afd9308', // simple_FOLIO_user
          targetField: 'id',
          type: 'equality-cast-uuid',
          direction: 'left',
        },
      ],
    },
    {
      name: 'vendor_detail_reference_numbers',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'arrayType',
        itemDataType: {
          dataType: 'objectType',
          properties: [
            {
              name: 'ref_number',
              property: 'refNumber',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'refNumber') FROM jsonb_array_elements(:sourceAlias.jsonb->'vendorDetail'->'referenceNumbers') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'refNumber')) FROM jsonb_array_elements(:sourceAlias.jsonb->'vendorDetail'->'referenceNumbers') AS elems)",
              valueFunction: 'lower(:value)',
            },
            {
              name: 'ref_number_type',
              property: 'refNumberType',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'refNumberType') FROM jsonb_array_elements(:sourceAlias.jsonb->'vendorDetail'->'referenceNumbers') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'refNumberType')) FROM jsonb_array_elements(:sourceAlias.jsonb->'vendorDetail'->'referenceNumbers') AS elems)",
              valueFunction: 'lower(:value)',
              values: [
                {
                  value: 'Vendor continuation reference number',
                  label: 'Vendor continuation reference number',
                },
                {
                  value: 'Vendor order reference number',
                  label: 'Vendor order reference number',
                },
                {
                  value: 'Vendor subscription reference number',
                  label: 'Vendor subscription reference number',
                },
                {
                  value: 'Vendor internal number',
                  label: 'Vendor internal number',
                },
                {
                  value: 'Vendor title number',
                  label: 'Vendor title number',
                },
              ],
            },
            {
              name: 'vendor_details_source',
              property: 'vendorDetailsSource',
              dataType: {
                dataType: 'stringType',
              },
              queryable: false,
              valueGetter: "( SELECT array_agg(elems.value->>'vendorDetailsSource') FROM jsonb_array_elements(:sourceAlias.jsonb->'vendorDetail'->'referenceNumbers') AS elems)",
              filterValueGetter: "( SELECT array_agg(lower(elems.value->>'vendorDetailsSource')) FROM jsonb_array_elements(:sourceAlias.jsonb->'vendorDetail'->'referenceNumbers') AS elems)",
              valueFunction: 'lower(:value)',
              values: [
                {
                  value: 'OrderLine',
                  label: 'Order line',
                },
                {
                  value: 'InvoiceLine',
                  label: 'Invoice line',
                },
              ],
            },
          ],
        },
      },
      isIdColumn: false,
      queryable: false,
      visibleByDefault: false,
      valueGetter: ":sourceAlias.jsonb->'vendorDetail'->>'referenceNumbers'",
    },
    {
      name: 'jsonb',
      sourceAlias: 'pol',
      dataType: {
        dataType: 'stringType',
      },
      essential: true,
      isIdColumn: false,
      queryable: false,
      hidden: true,
      visibleByDefault: false,
      valueGetter: ':sourceAlias.jsonb::text',
    },
    {
      name: 'pol_custom_fields',
      essential: true,
      queryable: true,
      visibleByDefault: false,
      dataType: {
        dataType: 'customFieldType',
        customFieldMetadata: {
          configurationView: 'src_purchase_order_line_custom_fields',
          dataExtractionPath: ":pol.jsonb -> 'customFields'",
        },
      },
    },
  ],
}
